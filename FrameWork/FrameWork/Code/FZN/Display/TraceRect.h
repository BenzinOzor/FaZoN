//------------------------------------------------------------------------
//Auteur : Philippe OFFERMANN
//Date : 14.10.14
//Description : Rectangle drawing with the mouse
//------------------------------------------------------------------------

#ifndef _TRACERECT_H_
#define _TRACERECT_H_


namespace fzn
{
	class FZN_EXPORT TraceRect : public sf::RectangleShape
	{
	public :
		/////////////////CONSTRUCTOR / DESTRUCTOR/////////////////

		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		//Default constructor
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		TraceRect();
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		//Destructor
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		~TraceRect();

		
		/////////////////OTHER FUNCTIONS/////////////////

		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		// Begin the draw
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		void BeginDraw();
		
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		//Rectangle update (checking buttons states and rect size)
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		void UpdateDraw();

		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		//Rectangle display (Use g_pFZN_WindowMgr->draw())
		//Parameter 1 : Window in which the rectangle will be displayed
		//Paramètre 2 : Rendering state
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		void Draw(sf::RenderWindow&, sf::RenderStates) const;

		/////////////////ACCESSORS / MUTATORS/////////////////

		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		//Accessor on the boolean bActive
		//Return value : Active or not
		//------------------------------------------------------------------------------------------------------------------------------------------------------------------
		INT8 GetActive();

	private :
		/////////////////MEMBER VARIABLES/////////////////

		sf::RenderWindow* m_window;					//Game window pointer
		INT8 m_bActive;									//Indicates if the rectangle is being modified
	};
} //namespace fzn

#endif //_TRACERECT_H_
